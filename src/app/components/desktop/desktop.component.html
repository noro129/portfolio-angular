<div class="wave-container">
    <svg class="wave wave1" viewBox="0 0 1440 320" preserveAspectRatio="none">
        <path fill="#4449" d="M0,160 C360,240 1080,80 1440,160 L1440,320 L0,320 Z"></path>
    </svg>
    <svg class="wave wave2" viewBox="0 0 1440 320" preserveAspectRatio="none">
        <path fill="#333c" d="M0,200 C360,100 1080,300 1440,200 L1440,320 L0,320 Z"></path>
    </svg>
    <svg class="wave wave3" viewBox="0 0 1440 320" preserveAspectRatio="none">
        <path fill="#222" d="M0,240 C360,300 1080,100 1440,240 L1440,320 L0,320 Z"></path>
    </svg>
</div>
<div class="apps" #desktop>
    <div *ngFor="let column of arrayOfSize(gridColumns)" class="column">
        <div *ngFor="let row of arrayOfSize(gridRows)" 
                class="row"
                (click)="appFocus(row, column)"
                (dblclick)="open(row, column)"
                (dragover)="onDragOver($event)"
                (drop)="onDrop($event, row, column)">
            <span *ngIf="appObjectToApplicationTransformer(applicationsMatrix[row][column]) as app"
                    class="app-wrapper" 
                    draggable="true"
                    (dragstart)="onDragStart($event, row, column)"
                    title="{{app.name}}{{app.type === AppType.File ? '.txt' : ''}}"
                    [ngClass]="{'focused' : applicationsMatrix[row][column]?.focused, 'not-focused' : !applicationsMatrix[row][column]?.focused}">
                <img src="{{app?.icon}}" alt="" class="icon">
                <p class="name">{{app?.name}}</p>
            </span>
            
        </div>
    </div>
</div>

<app-applications
    [openedAplications]="stacksMap"
    [removeOpenInstance]="removeItem"
    [putOpenInstanceFront]="putInstanceFront"
    [deletedApps]="deletedApps"
    [restoreApp]="restoreApp"
    [open]="openItem"
    [deleteDraggedItem]="deleteDraggedItem"
    [contentTreeStructure]="contentTreeStructure"
    [openedFolders]="openedFolders"
    [experience]="experience"
/>

<app-active-items-panel
    [stacksMap]="stacksMap" 
    [removeItem]="removeItem"
    [putInstanceFront]="putInstanceFront"
    [focusOnWindow]="focusOnWindow"
    [removeFocusOnWindow]="removeFocusOnWindow"
    [hideRevealItem]="hideRevealItem"
/>


<app-notification class="notification"
    [notifications]="notifications"/>