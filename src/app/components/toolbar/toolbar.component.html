<div class="container" (contextmenu)="onRightClick($event)">
    <div class="menu-button" (click)="menuToggle()">
        <div class="dash" [ngClass]="{'menu-clicked' : showMenu}"></div>
    </div>
    <div class="wifi-battery-language">
        <div class="language logo" title="language: english">EN</div>
        <div class="wifi logo" title="internet access"><img src="./wifi.png" alt="wifi logo" class="wifi-logo"/></div>
        <div class="battery logo" title="{{battery >20 ? 'battery status : '+battery+'%' : 'plug in the charger'}}" [attr.batteryP]="battery">
            <img src="./battery.png" alt="battery logo" class="battery-logo"/>
            <div class="battery-bar" [ngStyle]="{'width' :  (battery*8/10)+'%', 'background-color' : battery>20 ? 'var(--color-green)' : 'var(--color-red)'}"></div>
        </div>
    </div>
    <div class="date-time">
        <div class="time">{{time}}</div>
        <div class="date day">{{day}}</div>
        <div class="date">
            <div class="dateDay">{{dateDay}}</div>
            <div class="dateMonth">{{dateMonth}}</div>
            <div class="dateYear">{{dateYear}}</div>
        </div>
    </div>
    <div class="menu" [ngClass]="{'show-menu' : showMenu}">
        <div class="main-buttons">
            <div class="user" title="user">
                <img class="user-logo" src="./user.png" alt="user logo"/>
                <span class="user-info">
                    <p class="user-fullname">{{fullName}}</p>
                    <p class="user-occupation">{{occupation}}</p>
                </span>
            </div>
            <div class="power-buttons">
                <div class="power-off-button button" (click)="powerOff()" title="power off">
                    <img src="./poweroff.png" alt="power off button" class="poweroff-logo logo"/>
                </div>
                <div class="sleep-button button" (click)="sleepMode()" title="sleep mode">
                    <img src="./sleep.png" alt="sleep mode button" class="sleep-logo logo"/>
                </div>
            </div>
        </div>
        <div class="menu-items" #menuItemsManager></div>
    </div>
</div>

<div class="cover" [ngStyle]="{'opacity' : cover ? '1' : '0','scale' : cover ? '1' : '0', 'background-color' : 'var(--bg-color-1)'}">
    <p class="info" *ngIf="shuttingDown">{{info}}</p>

    <div class="bg" *ngIf="cover && !shuttingDown">
        <img src="./forest.jpg" alt="fog forest image" class="image">
        <img src="./tree.png" alt="tree image" class="tree left-tree">
        <img src="./tree.png" alt="tree image" class="tree right-tree">
        <svg class="title" xmlns="http://www.w3.org/2000/svg" width="30%" height="30%" viewBox="0 0 40 12" fill="none">
            <path d="M9.78261e-06 2.46C0.0160098 2.148 0.0480098 1.908 0.0960098 1.74C0.96001 1.884 1.99601 1.956 3.20401 1.956C4.41201 1.956 5.67601 1.812 6.99601 1.524C6.86001 2.54 6.34401 3.096 5.44801 3.192C5.16801 3.232 4.73601 3.272 4.15201 3.312C4.13601 3.544 4.00401 4.56 3.75601 6.36C3.50801 8.152 3.38401 9.388 3.38401 10.068C3.38401 10.748 3.44001 11.22 3.55201 11.484C2.87201 11.308 2.40801 11.076 2.16001 10.788C1.91201 10.492 1.78801 10.128 1.78801 9.696C1.78801 9.264 1.88801 8.328 2.08801 6.888C2.29601 5.44 2.42001 4.276 2.46001 3.396C1.81201 3.428 1.17601 3.444 0.55201 3.444C0.18401 3.444 9.78261e-06 3.116 9.78261e-06 2.46ZM9.76763 8.16C9.38363 8.16 9.00763 8.116 8.63963 8.028C8.63163 8.108 8.62763 8.232 8.62763 8.4C8.62763 9.064 8.75163 9.564 8.99963 9.9C9.24763 10.236 9.54364 10.404 9.88764 10.404C10.2316 10.404 10.5596 10.3 10.8716 10.092C11.1836 9.884 11.4556 9.596 11.6876 9.228C11.9756 9.292 12.1196 9.44 12.1196 9.672C11.4156 10.752 10.5076 11.292 9.39564 11.292C8.72363 11.292 8.13563 11.036 7.63163 10.524C7.12763 10.004 6.87563 9.284 6.87563 8.364C6.87563 7.676 7.00763 7.024 7.27163 6.408C7.53563 5.784 7.95563 5.26 8.53163 4.836C9.10763 4.404 9.74363 4.188 10.4396 4.188C11.1436 4.188 11.6596 4.348 11.9876 4.668C12.3156 4.988 12.4796 5.408 12.4796 5.928C12.4796 6.68 12.2156 7.24 11.6876 7.608C11.1676 7.976 10.5276 8.16 9.76763 8.16ZM10.2716 4.932C9.86363 4.932 9.51963 5.184 9.23963 5.688C8.95963 6.192 8.77563 6.804 8.68763 7.524H8.86763C9.56363 7.524 10.0756 7.344 10.4036 6.984C10.7396 6.624 10.9076 6.192 10.9076 5.688C10.9076 5.48 10.8516 5.304 10.7396 5.16C10.6356 5.008 10.4796 4.932 10.2716 4.932ZM15.2225 8.844C15.2225 9.22 15.2905 9.528 15.4265 9.768C15.5705 10 15.7705 10.116 16.0265 10.116C16.4025 10.116 16.7585 9.896 17.0945 9.456C17.4385 9.016 17.7105 8.452 17.9105 7.764C18.1185 7.076 18.2225 6.424 18.2225 5.808C18.2225 5.184 18.1985 4.68 18.1505 4.296C18.3905 4.28 18.5585 4.272 18.6545 4.272C19.0625 4.272 19.3705 4.348 19.5785 4.5C19.7865 4.652 19.8905 4.924 19.8905 5.316C19.8905 5.468 19.7945 6.088 19.6025 7.176C19.4105 8.256 19.3145 9.124 19.3145 9.78C19.3145 10.428 19.4385 11.004 19.6865 11.508C19.0865 11.404 18.6465 11.184 18.3665 10.848C18.0865 10.504 17.9465 10.012 17.9465 9.372C17.9465 9.26 17.9625 9.044 17.9945 8.724C17.7785 9.484 17.3945 10.096 16.8425 10.56C16.2905 11.024 15.7465 11.256 15.2105 11.256C14.6825 11.256 14.2545 11.06 13.9265 10.668C13.6065 10.268 13.4465 9.704 13.4465 8.976C13.4465 8.248 13.5745 7.544 13.8305 6.864C14.0945 6.176 14.4865 5.596 15.0065 5.124C15.5265 4.644 16.1065 4.404 16.7465 4.404C17.1145 4.404 17.4905 4.492 17.8745 4.668C17.0665 4.956 16.4225 5.524 15.9425 6.372C15.4625 7.212 15.2225 8.036 15.2225 8.844ZM21.6277 10.812C21.5317 10.652 21.4717 10.5 21.4477 10.356C21.4237 10.204 21.4117 9.972 21.4117 9.66C21.4117 9.348 21.5437 8.12 21.8077 5.976C22.0797 3.832 22.2157 2.36 22.2157 1.56C22.2157 0.76 22.1677 0.24 22.0717 -2.38419e-07C22.6717 0.16 23.0797 0.404 23.2957 0.732C23.5197 1.052 23.6317 1.508 23.6317 2.1C23.6317 2.452 23.5157 3.596 23.2837 5.532C23.0517 7.468 22.9357 9.028 22.9357 10.212C22.9357 10.468 22.9517 10.828 22.9837 11.292C22.2557 11.26 21.8037 11.1 21.6277 10.812ZM31.4056 5.712C31.4056 4.592 31.2496 3.78 30.9376 3.276C30.6336 2.772 30.2136 2.52 29.6776 2.52C29.1496 2.52 28.6456 2.756 28.1656 3.228C27.6936 3.692 27.3216 4.28 27.0496 4.992C26.7856 5.704 26.6536 6.424 26.6536 7.152C26.6536 8.152 26.8176 8.972 27.1456 9.612C27.4816 10.252 27.9856 10.572 28.6576 10.572C29.2176 10.572 29.7096 10.328 30.1336 9.84C30.5656 9.344 30.8856 8.732 31.0936 8.004C31.3016 7.276 31.4056 6.512 31.4056 5.712ZM31.6216 10.104C31.2616 10.496 30.8096 10.812 30.2656 11.052C29.7296 11.292 29.1416 11.412 28.5016 11.412C27.8616 11.412 27.2976 11.268 26.8096 10.98C26.3296 10.692 25.9456 10.308 25.6576 9.828C25.0816 8.868 24.7936 7.748 24.7936 6.468C24.7936 5.188 25.1096 4.048 25.7416 3.048C26.3816 2.048 27.2336 1.416 28.2976 1.152C28.3616 1.168 28.4216 1.2 28.4776 1.248C28.5416 1.296 28.5776 1.348 28.5856 1.404C27.5536 2.156 26.9296 3.18 26.7136 4.476C27.0496 3.532 27.5536 2.796 28.2256 2.268C28.9056 1.732 29.6336 1.464 30.4096 1.464C31.1856 1.464 31.8456 1.8 32.3896 2.472C32.9416 3.136 33.2176 4.1 33.2176 5.364C33.2176 6.604 32.9856 7.72 32.5216 8.712C32.2816 9.24 31.9816 9.704 31.6216 10.104ZM37.2227 4.896C36.9987 4.896 36.7987 4.972 36.6227 5.124C36.4467 5.268 36.3587 5.476 36.3587 5.748C36.3587 6.02 36.4507 6.276 36.6347 6.516C36.8267 6.756 37.0587 6.968 37.3307 7.152C37.6027 7.328 37.8747 7.512 38.1467 7.704C38.4267 7.888 38.6707 8.12 38.8787 8.4C39.0867 8.672 39.2027 8.976 39.2267 9.312C39.2267 9.888 38.9787 10.372 38.4827 10.764C37.9867 11.156 37.3707 11.352 36.6347 11.352C35.8987 11.352 35.3187 11.204 34.8947 10.908C34.4787 10.612 34.2707 10.272 34.2707 9.888C34.2707 9.504 34.3867 9.196 34.6187 8.964C34.8587 8.724 35.1547 8.604 35.5067 8.604C35.6907 8.604 35.8627 8.636 36.0227 8.7C35.7667 8.972 35.6387 9.26 35.6387 9.564C35.6387 9.868 35.7227 10.112 35.8907 10.296C36.0587 10.48 36.2867 10.572 36.5747 10.572C36.8627 10.572 37.1027 10.5 37.2947 10.356C37.4947 10.204 37.5947 10.012 37.5947 9.78C37.5947 9.54 37.5267 9.328 37.3907 9.144C37.2547 8.96 37.0827 8.8 36.8747 8.664C36.6747 8.52 36.4547 8.36 36.2147 8.184C35.9747 8.008 35.7507 7.832 35.5427 7.656C35.3427 7.472 35.1747 7.244 35.0387 6.972C34.9027 6.692 34.8347 6.388 34.8347 6.06C34.8347 5.492 35.0667 5.028 35.5307 4.668C36.0027 4.3 36.5867 4.116 37.2827 4.116C37.9867 4.116 38.4987 4.252 38.8187 4.524C39.1467 4.796 39.3107 5.116 39.3107 5.484C39.3107 5.844 39.1947 6.152 38.9627 6.408C38.7387 6.664 38.4467 6.792 38.0867 6.792C37.9107 6.792 37.7107 6.756 37.4867 6.684C37.6627 6.532 37.7987 6.36 37.8947 6.168C37.9907 5.968 38.0387 5.772 38.0387 5.58C38.0387 5.388 37.9587 5.228 37.7987 5.1C37.6387 4.964 37.4467 4.896 37.2227 4.896Z" fill="white"/>
        </svg>
    </div>
    

    <div class="watch-wrapper" [ngStyle]="{'transform' : showCards ? 'translateX(0)' : 'translateX(110%)'}">
        <div class="watch" *ngIf="!shuttingDown" #watch>
            <div class="hours"></div>
            <div class="minutes"></div>
            <div class="seconds"></div>


            <div class="one"></div>
            <div class="two"></div>
            <div class="three"></div>
            <div class="four"></div>
            <div class="five"></div>
            <div class="six"></div>
            <div class="seven"></div>
            <div class="eight"></div>
            <div class="nine"></div>
            <div class="ten"></div>
            <div class="eleven"></div>
            <div class="twelve"></div>

            <div class="wave-container">
                <svg class="wave wave1" viewBox="0 0 1440 320" preserveAspectRatio="none">
                    <path fill="#3f663f" d="M0,160 C360,240 1080,80 1440,160 L1440,320 L0,320 Z"></path>
                </svg>

                <svg class="wave wave2" viewBox="0 0 1440 320" preserveAspectRatio="none">
                    <path fill="#C0C0C0" d="M0,200 C360,100 1080,300 1440,200 L1440,320 L0,320 Z"></path>
                </svg>
            </div>
        </div>
    </div>

    <div class="connect-window-underlay" *ngIf="!shuttingDown && showConnectWindow"></div>
    <div class="connect-window" *ngIf="!shuttingDown" [ngStyle]="{'transform' : showConnectWindow ? 'translate(-50%, -50%) scale(1)' : 'translate(-50%, -50%) scale(0)'}">
        <div class="user-profile">
            <img src="user.png" alt="user logo" class="user-logo">
            <p class="user-fullname">Oussama Errazi</p>
        </div>

        <input *ngIf="!connecting" type="password" class="password-input" (keyup.enter)="connect($event)" [ngClass]="{'shake' : emptyPassword}" #connectWindow>
        
        <div class="connecting" *ngIf="connecting">
            <div class="dot dot1"></div>
            <div class="dot dot2"></div>
            <div class="dot dot3"></div>
            <div class="dot dot4"></div>
            <div class="dot dot5"></div>
        </div>

        <div class="close-connect-window" (click)="toggleConnectWindow(false)">X</div>
    </div>

    <div class="side-cards" *ngIf="!shuttingDown" [ngStyle]="{'transform' : showCards ? 'translateX(0)' : 'translateX(-110%)'}">
        <div class="weather-card card"
        [class.sunny]="selectedWeather==='sunny'"
        [class.night-time]="selectedWeather==='night time'"
        [class.cloudy]="selectedWeather==='cloudy'"
        [class.rainy]="selectedWeather==='rainy'"
        >
            <div class="cloud" *ngIf="selectedWeather==='cloudy'"><img src="cloudy.png" alt="cloud image"></div>
            <p class="date">{{weatherCardDate}}</p>
            <p class="weather">{{selectedWeather}}</p>
            <div class="weather-icon"><img src="{{weatherIcon}}" alt="weather icon" class="icon"></div>
            <p class="weather-degree">{{weatherDegree}}</p>
            <div class="rain" *ngIf="selectedWeather==='rainy'"><img src="rain.jpg" alt="rain image"></div>
        </div>

        <div class="music-card card">
            <p class="music-title" [attr.next]="'Title Here'" [attr.prev]="'Title Here'" [ngStyle]="{'transform' : nextMusic ? 'translateX(-100%)' : prevMusic ? 'translateX(100%)' :'', 'transition' : nextMusic || prevMusic ? 'transform .4s ease' : ''}">Title Here</p>
            <p class="music-author" [attr.next]="'author here'" [attr.prev]="'author here'" [ngStyle]="{'transform' : nextMusic ? 'translateX(-100%)' : prevMusic ? 'translateX(100%)' : '', 'transition' : nextMusic || prevMusic ? 'transform .3s .1s ease' : ''}">author here</p>
            <div class="music-player"
            [attr.elapsedTime]="elapsedTime"
            [attr.trackLength]="trackLength"
            (click)="moveSeekBar($event)"
            #bar
            >
                <div class="progress" [ngStyle]="{'width' : musicElapsedTime * 100 / musicTrackLength + '%'}"></div>
                <div class="seek-bar" [ngStyle]="{'left' : musicElapsedTime * 100 / musicTrackLength + '%'}" (mousedown)="onMouseDown($event, bar)"></div>
            </div>
            <div class="controls">
                <div class="prev control" (click)="playPrevMusic()"><img src="prev.png" alt="previous button icon"></div>
                <div class="play-pause control" (click)="playPauseMusic()"><img src="{{musicIsPlaying ? 'pause-button.png' : 'play-button.png'}}" alt="play or pause button icon"></div>
                <div class="next control" (click)="playNextMusic()"><img src="next.png" alt="next button icon"></div>
            </div>
        </div>
    </div>
    
</div>